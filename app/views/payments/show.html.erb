<nav class="nav_main  h-12">
  <div class="flex items-center p-2 justify-around">
    <div>
      <%=link_to groups_path do%>
        <p class="text-white"><</p>
                <%end%>
        </div>
        <div class="flex">
      <%= button_to 'Log Out', destroy_user_session_path, method: :delete, class:"text-white" %>
      </div>
    </div>
</nav>
<div class="flex flex-col mx-auto md:w-2/3 p-4 w-full flex">
  <div class="flex flex-col gap-3 items-center mx-auto">
    <% if alert.present? %>
      <p class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" id="alert"><%= alert %></p>
    <% elsif notice.present?%>
     <p class=" border border-green-400 text-green-700 px-4 py-3 rounded relative" id="notice"><%= notice %></p>
    <h2 class="flex justify-center">
      <strong>total group transactions: </strong> $<%= @total %>
    </h2>
   <div class="overflow-x-auto">
  <table class="table-auto w-full border-collapse">
    <thead>
      <tr>
        <th class="px-4 py-2 text-left">Name</th>
        <th class="px-4 py-2 text-left">Amount</th>
        <th class="px-4 py-2 text-left">User</th>
        <th class="px-4 py-2 text-left">Date</th>
      </tr>
    </thead>
    <tbody>
      <% @payments.each do |payment| %>
        <tr class="<%= cycle('bg-gray-100', '') %>">
          <td class="px-4 py-2"><%= payment.name %></td>
          <td class="px-4 py-2"><%= number_to_currency(payment.amount) %></td>
          <td class="px-4 py-2"><%= payment.user.name %></td>
          <td class="px-4 py-2"><%= payment.created_at.strftime('%b %d, %Y') %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
    <div class="inline-block ml-2">
     <%= link_to 'Back to payments', payments_path, class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
    </div>
    <% else %>
    <h2 class="flex justify-center">
      <strong>total group transactions: </strong> $<%= @total %>
    </h2>
   <div class="overflow-x-auto">
  <table class="table-auto w-full border-collapse">
    <thead>
      <tr>
        <th class="px-4 py-2 text-left">Name</th>
        <th class="px-4 py-2 text-left">Amount</th>
        <th class="px-4 py-2 text-left">User</th>
        <th class="px-4 py-2 text-left">Date</th>
      </tr>
    </thead>
    <tbody>
      <% @payments.each do |payment| %>
        <tr class="<%= cycle('bg-gray-100', '') %>">
          <td class="px-4 py-2"><%= payment.name %></td>
          <td class="px-4 py-2"><%= number_to_currency(payment.amount) %></td>
          <td class="px-4 py-2"><%= payment.user.name %></td>
          <td class="px-4 py-2"><%= payment.created_at.strftime('%b %d, %Y') %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
    <% end %>
  </div>
</div>
<%= link_to 'New Transaction',new_payment_path, class: "greenbottom text-center py-3 px-5 bg-blue-600 text-white block font-medium" %>
